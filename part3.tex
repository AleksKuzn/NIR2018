% третья часть

\section{Система учета ресурсов}
Для каждой квартиры подключаются импульсные счетчики воды, тепла и электричества. Информация с них поступает на сервер. Анализирует на предмет неисправностей и утечек. И выводится на сайте, где житель может контролировать свои расходы и делать платежи.

Система будет сопровождаться программным обеспечением.
\subsection{Описание программы}
Система учета ресурсов предназначена для считывания, мониторинга и работы с данными домовых счетчиков учета ресурсов. Данные со счетчиков попадают на сервер баз данных, в программе диспетчера и администратора данные отображаются, считаются, формируются отчеты.

Полный функционал программного обеспечения:
\begin{itemize}
\item управление адресами и объектами установки ПУ;
\item управление приборами учета;
\item управление абонентами; 
\item просмотр показаний ПУ за выбранный интервал времени; 
\item расчет потребления энергоресурсов по основным показаниям ПУ за указанный интервал времени; 
\item просмотр детальной информации по потреблению энергоресурсов конкретного ПУ с выводом графика потребления; 
\item предоставление сведений об аварийных и нештатных ситуациях ПУ; 
\item экспорт полученных данных в другие форматы, вывод на печать;
\item поиск.
\end{itemize}

Система должна быть защищенной и поэтому используются локальные данные. Сервер, база данных на пост грессе и программы на компьютерах администраторов для управления. 

\textbf{Цели:} Сбор данных и мониторинг потребления ресурсов.
 
\textbf{Задачи:}  Создать защищенную и удобную систему  для сбора данных потребляемых населением.

Программа для администратора: мониторинг, добавление/ изменение/ удаление счетчиков, составление отчетов. 

Программа для диспетчера:  мониторинг, составление отчетов. 


\subsection{Алгоритмы поиска проблемных счетчиков электроэнергии и водоснабжения для разных типов ошибок}
Рассмотрим проблему, когда от счетчика не поступает импульс. Есть два варианта:
\begin{itemize}
	\item счетчик не исправен, по какой-то причине не крутится роликовый индикатор;
	\item счетчик работает, но импульсы от него не поступают.
\end{itemize}

Ошибка №1. Проблемы со счетчиком ХВС. 

Потребление ХВС = 0 за сутки, при этом потребление ГВС > 0 за сутки.

Алгоритм поиска:

Находим разность между показаниями счетчиков ХВС и ГВС, за текущее число и за вчерашнее.
Оставляем значения счетчиков ХВС и ГВС, где разность ХВС = 0.
Убираем значения счетчиков ХВС и ГВС, где разность ГВС = 0.

Оставшиеся счетчики ХВС являются проблемными (можно сравнивать не за сутки, а за 3 или 5).

Ошибка №2. Проблемы со счетчиком ГВС.

Потребление ГВС = 0 за неделю, при этом потребление ХВС > 0 за неделю.

Алгоритм поиска:

Находим разность между показаниями счетчиков ХВС и ГВС неделю назад и за текущее число.
Оставляем значения счетчиков ХВС и ГВС, где разность ГВС = 0.
Убираем значения счетчиков ХВС и ГВС, где разность ХВС = 0.

Получили счетчики, которые попадают в поле подозрения.
Нужно провести отбор, возможно горячей водой просто не пользуются.

Убираем счетчики, у которых значения ГВС < 5 и значение ХВС < 10.
Оставшиеся счетчики ГВС являются проблемными и требуют ручной проверки.

Ошибка №3. Проблемы со счетчиком ХВС и ГВС.

Потребление ХВС = 0, ГВС = 0 за неделю, при этом потребление Э  >= Ср.Ар. за предыдущую неделю.

Алгоритм поиска:

Находим разность между показаниями счетчиков ХВС и ГВС неделю назад и за текущее число.
Оставляем значения счетчиков ХВС и ГВС, где разность ГВС = 0 и ХВС = 0.
Находим среднее арифметическое потребление электричества за предыдущую неделю.
Если потребление электроэнергии за неделю больше чем среднее арифметическое значение, то счетчики попадают в список проблемных счетчиков.

Ошибка №4. Проблемы с электросчетчиком.

Потребление Электричества = 0 за сутки, при этом потребление ХВС > 0 и/или ГВС > 0 за сутки и более.

